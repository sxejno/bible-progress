<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bible Progress</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
    <link rel="manifest" href="manifest.json">

    <meta name="theme-color" content="#4f46e5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Bible Progress">

    <!-- SEO and Social Meta Tags -->
    <meta name="description" content="Track your Bible reading progress with word-weighted precision. Features reading plans, streak tracking, and multi-profile support. Free and open source.">
    <meta name="keywords" content="bible tracker, bible reading plan, KJV, scripture tracker, reading progress, M'Cheyne, Horner plan">
    <meta name="author" content="Bible Progress">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://bibleprogress.com">

    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Bible Progress">
    <meta property="og:url" content="https://bibleprogress.com">
    <meta property="og:title" content="Bible Progress">
    <meta property="og:description" content="Track your Bible reading progress with word-weighted precision. Features reading plans, streak tracking, and multi-profile support.">
    <meta property="og:image" content="https://bibleprogress.com/icon-512.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:image:alt" content="Bible Progress App Icon">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Bible Progress - Word-Weighted Bible Reading Tracker">
    <meta name="twitter:description" content="Track your Bible reading progress with word-weighted precision. Features reading plans, streak tracking, and multi-profile support.">
    <meta name="twitter:image" content="https://bibleprogress.com/icon-512.png">
    <meta name="twitter:image:alt" content="Bible Progress App Icon">

    <!-- Security Headers (Content Security Policy would be better implemented at server level) -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="pb-24">

    <div id="auth-modal" class="hidden fixed inset-0 z-[100] bg-slate-900/50 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-white rounded-[2rem] p-6 w-full max-w-sm shadow-2xl modal-in border border-white/50">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-black text-slate-900 tracking-tight">Sync Progress</h2>
                <button onclick="window.toggleAuthModal(false)" class="p-2 bg-slate-50 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600" aria-label="Close authentication modal">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            
            <div class="space-y-3 mb-4">
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Email</label>
                    <input type="email" id="email-input" placeholder="you@example.com" class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 text-sm font-bold text-slate-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder-slate-300" aria-label="Email address">
                </div>
                <div class="space-y-1">
                    <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1">Password</label>
                    <input type="password" id="pass-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 text-sm font-bold text-slate-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder-slate-300" aria-label="Password">
                </div>
                <div id="auth-error" class="text-xs font-bold text-red-500 bg-red-50 p-2 rounded-lg hidden"></div>
            </div>

            <div class="grid grid-cols-2 gap-3 mb-6">
                <button onclick="window.handleEmailAuth('LOGIN')" id="btn-login-email" class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl text-xs font-black uppercase tracking-wide hover:from-indigo-700 hover:to-purple-700 hover:shadow-lg hover:shadow-indigo-200 transition-all hover:scale-105 active:scale-95" aria-label="Log in with email">Log In</button>
                <button onclick="window.handleEmailAuth('REGISTER')" id="btn-signup-email" class="bg-white border-2 border-slate-200 text-slate-600 py-3 rounded-xl text-xs font-black uppercase tracking-wide hover:bg-slate-50 hover:border-indigo-200 hover:shadow-md transition-all hover:scale-105 active:scale-95" aria-label="Sign up with email">Sign Up</button>
            </div>

            <div class="relative flex py-2 items-center mb-6">
                <div class="flex-grow border-t border-slate-100"></div>
                <span class="flex-shrink-0 mx-4 text-[9px] font-black text-slate-300 uppercase tracking-widest">Or continue with</span>
                <div class="flex-grow border-t border-slate-100"></div>
            </div>

            <button onclick="window.handleGoogleLogin()" class="w-full flex items-center justify-center gap-3 bg-white border-2 border-slate-200 text-slate-700 py-3.5 rounded-xl text-sm font-bold hover:bg-slate-50 hover:shadow-lg transition-all hover:border-slate-300 hover:scale-105 active:scale-95 group" aria-label="Sign in with Google">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5 group-hover:scale-110 transition-transform" alt="Google logo">
                Google
            </button>
        </div>
    </div>

    <div id="intro-modal" class="hidden fixed inset-0 z-[100] bg-slate-900/50 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-gradient-to-br from-white to-indigo-50/30 rounded-[2.5rem] p-10 w-full max-w-md shadow-2xl modal-in border border-white/50 relative overflow-hidden">
            <!-- Decorative background elements -->
            <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-indigo-200/20 rounded-full blur-3xl"></div>
            <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-purple-200/20 rounded-full blur-3xl"></div>

            <!-- Content -->
            <div class="relative">
                <button onclick="window.closeIntroModal()" class="absolute -top-2 -right-2 p-2 bg-white/80 hover:bg-white rounded-full transition-colors text-slate-400 hover:text-slate-600 shadow-sm" aria-label="Close introduction modal">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>

                <!-- Icon -->
                <div class="flex justify-center mb-6">
                    <div class="w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-xl shadow-indigo-300/50 rotate-3 hover:rotate-0 hover:scale-110 transition-all duration-300 cursor-pointer">
                        <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"></path></svg>
                    </div>
                </div>

                <!-- Heading -->
                <h2 class="text-3xl font-black text-slate-900 tracking-tight mb-3 text-center">Bible Progress</h2>
                <p class="text-center text-slate-600 mb-8 leading-relaxed">
                    Read the Bible and track your progress!
                </p>

                <!-- Key points -->
                <div class="space-y-3 mb-8">
                    <div class="flex items-start gap-3 bg-white/60 p-3 rounded-xl border border-slate-200">
                        <div class="flex-shrink-0 w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center">
                            <svg class="w-4 h-4 text-indigo-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                        </div>
                        <div>
                            <p class="text-sm font-bold text-slate-900">Check chapters as you read</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-3 bg-white/60 p-3 rounded-xl border border-slate-200">
                        <div class="flex-shrink-0 w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center">
                            <svg class="w-4 h-4 text-emerald-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/></svg>
                        </div>
                        <div>
                            <p class="text-sm font-bold text-slate-900">Follow built-in reading plans</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-3 bg-white/60 p-3 rounded-xl border border-slate-200">
                        <div class="flex-shrink-0 w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
                            <svg class="w-4 h-4 text-purple-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"/></svg>
                        </div>
                        <div>
                            <p class="text-sm font-bold text-slate-900">Sync progress across devices</p>
                        </div>
                    </div>
                </div>

                <!-- CTA buttons -->
                <div class="space-y-3">
                    <button onclick="window.closeIntroModal()" class="w-full bg-indigo-600 text-white px-6 py-3 rounded-xl text-sm font-bold hover:bg-indigo-700 transition-colors" aria-label="Start reading and close introduction">
                        Start Reading
                    </button>
                    <button onclick="window.closeIntroModal(); setTimeout(() => window.setTab('ABOUT'), 300);" class="w-full bg-white text-slate-700 px-6 py-3 rounded-xl text-sm font-bold hover:bg-slate-50 transition-colors border border-slate-200" aria-label="Learn more about Bible Progress">
                        Learn More
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bible Reader Modal -->
    <div id="bible-reader-modal" class="hidden fixed inset-0 z-[100] bg-slate-900/50 flex items-center justify-center p-4">
        <div class="bg-white rounded-[2rem] w-full max-w-4xl shadow-2xl modal-in border border-white/50 flex flex-col" style="max-height: 90vh;">
            <!-- Header -->
            <div class="flex justify-between items-center p-6 border-b border-slate-200">
                <div>
                    <h2 id="bible-reader-title" class="text-2xl font-black text-slate-900 tracking-tight">Loading...</h2>
                    <p id="bible-reader-subtitle" class="text-sm text-slate-500 mt-1">King James Version</p>
                </div>
                <button onclick="window.closeBibleReader()" class="p-2 bg-slate-50 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600" aria-label="Close Bible reader">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <!-- Content -->
            <div id="bible-reader-verses" class="bible-reader-content flex-1 overflow-y-auto p-6 sm:p-8">
                <div class="flex items-center justify-center py-12">
                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div>
                </div>
            </div>

            <!-- Footer with navigation and actions -->
            <div class="flex flex-col sm:flex-row justify-between items-center gap-4 p-6 border-t border-slate-200 bg-slate-50">
                <div class="flex items-center gap-2 w-full sm:w-auto">
                    <button id="bible-reader-prev" onclick="window.navigateBibleChapter(-1)" class="flex-1 sm:flex-none px-4 py-2 bg-white hover:bg-slate-50 text-slate-700 rounded-xl text-sm font-bold transition-colors border border-slate-200 flex items-center justify-center gap-2" aria-label="Previous chapter">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                        <span class="hidden sm:inline">Previous</span>
                    </button>
                    <button id="bible-reader-next" onclick="window.navigateBibleChapter(1)" class="flex-1 sm:flex-none px-4 py-2 bg-white hover:bg-slate-50 text-slate-700 rounded-xl text-sm font-bold transition-colors border border-slate-200 flex items-center justify-center gap-2" aria-label="Next chapter">
                        <span class="hidden sm:inline">Next</span>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </button>
                </div>
                <button id="bible-reader-mark-read" onclick="window.markCurrentChapterAsRead()" class="w-full sm:w-auto px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl text-sm font-bold transition-colors shadow-sm hover:shadow-md flex items-center justify-center gap-2" aria-label="Mark chapter as read">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                    Mark as Read
                </button>
            </div>
        </div>
    </div>

    <header class="sticky top-0 z-50 glass border-b border-indigo-100 shadow-sm">
        <div class="max-w-5xl mx-auto px-4 py-4 sm:px-6">
            <div class="flex flex-col gap-5">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <div>
                                <h1 class="text-2xl font-black text-indigo-950 tracking-tighter">BIBLE PROGRESS</h1>
                                <p id="books-completed-stat" class="text-xs font-bold text-slate-500 uppercase tracking-widest mt-1">0 OF 66 BOOKS READ</p>
                            </div>
                            <div id="header-streak-badge" class="hidden bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-200 px-3 py-2 rounded-xl cursor-pointer hover:shadow-md transition-all" onclick="window.goToStreakSection()" role="button" aria-label="Click to view streak details" tabindex="0" onkeypress="if(event.key==='Enter'||event.key===' ')window.goToStreakSection()">
                                <div class="flex items-center gap-2">
                                    <span id="header-streak-emoji" class="text-xl">üî•</span>
                                    <div class="flex flex-col">
                                        <span id="header-streak-count" class="text-sm font-black text-orange-900 leading-none">0</span>
                                        <span class="text-[9px] font-bold text-orange-600 uppercase tracking-wide">day streak</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-3 self-end sm:self-auto">
                        <button onclick="window.showIntroModal()" class="p-2 bg-white hover:bg-indigo-50 rounded-full transition-all text-slate-600 hover:text-indigo-600 border border-slate-200 hover:border-indigo-200 shadow-sm hover:shadow-md hover:scale-110" title="Help & Introduction" aria-label="Show help and introduction">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        </button>

                        <div class="relative group">
                            <button id="profile-menu-btn" onclick="window.toggleProfileMenu()" class="flex items-center gap-2 bg-white text-slate-700 px-4 py-2 rounded-full text-sm font-bold hover:bg-slate-50 transition-all border border-slate-200 hover:border-slate-300 shadow-sm hover:shadow-md" aria-label="Toggle profile menu" aria-expanded="false" aria-haspopup="true">
                                <div id="current-profile-dot" class="w-3 h-3 rounded-full profile-dot shadow-sm"></div>
                                <span id="current-profile-name">Default</span>
                                <svg class="w-4 h-4 text-slate-400 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>

                            <div id="profile-menu" class="hidden absolute right-0 mt-2 w-56 bg-white rounded-2xl shadow-xl border border-slate-100 p-2 z-50 animate-in ring-1 ring-black/5">
                                <div id="profile-list" class="flex flex-col gap-1 mb-2 border-b border-slate-100 pb-2"></div>
                                <button onclick="window.createNewProfile()" class="w-full text-left px-3 py-3 text-sm font-bold text-indigo-600 hover:bg-indigo-50 rounded-xl flex items-center gap-2 transition-colors" aria-label="Create new profile">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                                    New Profile
                                </button>
                            </div>
                        </div>

                        <div id="sync-status" class="flex items-center justify-center w-8 h-8 rounded-full bg-white text-slate-400 border border-slate-200 shadow-sm hover:shadow-md transition-all hover:scale-110 cursor-default" title="Local Only" aria-label="Sync status: Local only">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"/></svg>
                        </div>

                        <button id="login-btn" onclick="window.toggleAuthModal(true)" class="flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-5 py-2 rounded-full text-sm font-bold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg shadow-indigo-200/50 hover:shadow-xl hover:shadow-indigo-300/50 hover:scale-105" aria-label="Open sync and login modal">
                            <span id="login-text">Sync</span>
                        </button>
                        <div id="user-profile" class="hidden flex items-center gap-3">
                            <img id="user-photo" src="" alt="User profile photo" class="w-9 h-9 rounded-full border-2 border-indigo-200">
                            <button id="logout-btn" class="text-xs font-bold text-slate-400 hover:text-red-500 uppercase tracking-wide" aria-label="Log out">Logout</button>
                        </div>
                    </div>
                </div>

                <div class="space-y-1">
                    <div id="total-progress-section" class="cursor-pointer transition-all hover:opacity-90" onclick="window.toggleProgressView()" role="button" aria-label="Click to toggle between total progress and testament progress views" tabindex="0" onkeypress="if(event.key==='Enter'||event.key===' ')window.toggleProgressView()">
                        <div class="w-full bg-gradient-to-r from-slate-200 to-slate-300 rounded-full h-3 overflow-hidden shadow-inner">
                            <div id="total-progress-bar" class="bg-gradient-to-r from-indigo-600 to-purple-600 h-full progress-bar progress-bar-shine shadow-sm" style="width: 0%"></div>
                        </div>

                        <div class="flex justify-between items-end px-1">
                             <div class="text-left">
                                <span id="total-percent" class="text-4xl font-black text-indigo-600 leading-none">0.00%</span>
                                <div class="text-xs font-bold text-slate-500 uppercase tracking-tight mt-1">Total Words Read</div>
                            </div>
                        </div>
                    </div>

                    <div id="testament-progress-section" class="hidden cursor-pointer transition-all hover:opacity-90" onclick="window.toggleProgressView()" role="button" aria-label="Click to toggle back to total progress view" tabindex="0" onkeypress="if(event.key==='Enter'||event.key===' ')window.toggleProgressView()">
                        <div class="grid grid-cols-2 gap-4 mt-4">
                            <div class="bg-gradient-to-br from-white/80 to-amber-50/30 backdrop-blur-sm p-3 rounded-2xl border border-amber-100/50 shadow-sm">
                                <div class="flex justify-between text-[11px] font-bold text-slate-500 uppercase mb-2">
                                    <span>Old Testament</span>
                                    <span id="ot-percent" class="text-amber-900 font-black">0.00%</span>
                                </div>
                                <div class="w-full bg-gradient-to-r from-slate-200 to-amber-100 rounded-full h-2 overflow-hidden shadow-inner">
                                    <div id="ot-progress-bar" class="bg-gradient-to-r from-amber-500 to-orange-500 h-full progress-bar progress-bar-shine" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-white/80 to-emerald-50/30 backdrop-blur-sm p-3 rounded-2xl border border-emerald-100/50 shadow-sm">
                                <div class="flex justify-between text-[11px] font-bold text-slate-500 uppercase mb-2">
                                    <span>New Testament</span>
                                    <span id="nt-percent" class="text-emerald-900 font-black">0.00%</span>
                                </div>
                                <div class="w-full bg-gradient-to-r from-slate-200 to-emerald-100 rounded-full h-2 overflow-hidden shadow-inner">
                                    <div id="nt-progress-bar" class="bg-gradient-to-r from-emerald-500 to-teal-500 h-full progress-bar progress-bar-shine" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Centered verse with proper spacing -->
                    <div id="verse-content" class="mt-4 mb-6 min-h-[60px] verse-fade-container flex items-center justify-center px-4">
                        <div class="text-xs text-slate-400 italic leading-relaxed text-center"></div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 sm:px-6 mt-8">

        <div class="tab-scroll-wrapper">
            <div id="tab-scroll-container" class="overflow-x-auto no-scrollbar pb-2 -mx-4 px-4 sm:mx-0 sm:px-0">
                <div class="flex gap-2 mb-6 p-1.5 bg-slate-200/50 rounded-2xl w-max sm:w-fit" role="tablist" aria-label="Main navigation">
                    <button onclick="window.setTab('ALL')" id="tab-all" class="px-5 py-2.5 rounded-xl text-sm font-bold uppercase tracking-wide transition-all tab-active whitespace-nowrap" role="tab" aria-selected="true" aria-controls="view-books">Bible</button>
                    <button onclick="window.setTab('PLAN')" id="tab-plan" class="px-5 py-2.5 rounded-xl text-sm font-bold uppercase tracking-wide transition-all text-slate-500 whitespace-nowrap" role="tab" aria-selected="false" aria-controls="view-plan">Daily Plan</button>
                    <button onclick="window.setTab('STATS')" id="tab-stats" class="px-5 py-2.5 rounded-xl text-sm font-bold uppercase tracking-wide transition-all text-slate-500 whitespace-nowrap" role="tab" aria-selected="false" aria-controls="view-stats">Stats</button>
                    <button onclick="window.setTab('TOOLS')" id="tab-tools" class="px-5 py-2.5 rounded-xl text-sm font-bold uppercase tracking-wide transition-all text-slate-500 whitespace-nowrap" role="tab" aria-selected="false" aria-controls="view-tools">Tools</button>
                    <button onclick="window.setTab('SETTINGS')" id="tab-settings" class="px-5 py-2.5 rounded-xl text-sm font-bold uppercase tracking-wide transition-all text-slate-500 whitespace-nowrap" role="tab" aria-selected="false" aria-controls="view-settings">Settings</button>
                    <button onclick="window.setTab('ABOUT')" id="tab-about" class="px-5 py-2.5 rounded-xl text-sm font-bold uppercase tracking-wide transition-all text-slate-500 whitespace-nowrap" role="tab" aria-selected="false" aria-controls="view-about">About</button>
                </div>
            </div>
            <div id="tab-scroll-indicator" class="tab-scroll-indicator"></div>
        </div>

        <div id="view-books" class="animate-in">
            <div class="mb-6">
                <div class="relative group">
                    <input type="text" id="book-search" oninput="window.debouncedHandleSearch()" placeholder="Search books..." class="w-full pl-12 pr-4 py-4 rounded-2xl border-2 border-transparent bg-white shadow-sm hover:shadow-lg text-base font-medium text-slate-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-200 focus:shadow-xl placeholder-slate-400 outline-none transition-all" aria-label="Search books">
                    <svg class="w-6 h-6 absolute left-4 top-4 text-slate-300 group-focus-within:text-indigo-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </div>
                <div id="search-results-count" class="mt-2 text-sm text-slate-500 hidden"></div>
            </div>
            <div id="subdivision-bar" class="hidden sm:flex flex-wrap gap-3 overflow-y-auto max-h-40 mb-8 pb-2 pr-2"></div>
            <div id="book-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>
        </div>

        <div id="view-plan" class="hidden animate-in">
            <div class="bg-indigo-600 rounded-[2.5rem] p-8 shadow-xl shadow-indigo-200 mb-8 text-white relative overflow-hidden">
                <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"></div>
                
                <div class="flex flex-col md:flex-row md:items-center justify-between gap-6 mb-4 relative z-10">
                    <div>
                        <h2 class="text-3xl font-black tracking-tight mb-2">Today's Reading</h2>
                        <p class="text-indigo-100 text-sm font-medium">Your customized daily chapters.</p>
                    </div>
                    <select id="plan-selector" onchange="window.changePlan()" class="bg-white/20 text-white border border-white/30 rounded-xl text-sm font-bold uppercase tracking-wide py-3 px-5 outline-none focus:bg-white/30 focus:ring-2 focus:ring-white/50 cursor-pointer w-full md:w-auto" aria-label="Select reading plan">
                        <option value="SEQUENTIAL" class="text-slate-900">Canonical</option>
                        <option value="FIVE_DAY" class="text-slate-900">Five-Day Plan (Weekends Off)</option>
                        <option value="ONE_YEAR" class="text-slate-900">One Year (OT+NT Daily)</option>
                        <option value="MCHEYNE" class="text-slate-900">M'Cheyne (1 Year)</option>
                        <option value="HORNER" class="text-slate-900">Prof. Horner (10 Lists)</option>
                    </select>
                </div>
                
                <div id="plan-description-box" class="relative z-10 mb-8 mt-4 p-4 bg-white/10 rounded-2xl border border-white/10 text-sm text-indigo-50 leading-relaxed hidden">
                    </div>

                <div id="daily-plan-list" class="flex flex-col gap-3 relative z-10"></div>
                <p id="plan-footer-msg" class="text-center text-xs font-bold text-indigo-200 mt-6 uppercase tracking-widest relative z-10 opacity-70"></p>
            </div>
        </div>

        <div id="view-stats" class="hidden animate-in">
            <div class="bg-white rounded-[2.5rem] p-8 shadow-xl shadow-indigo-100/40 border border-indigo-50 mb-8 flex flex-col lg:flex-row items-center gap-8 lg:gap-12">
                <div class="w-full lg:w-5/12 relative min-h-[300px] flex items-center justify-center">
                    <canvas id="mainDonutChart"></canvas>
                    <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                        <span class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1">Total Read</span>
                        <span id="stats-page-total-percent" class="text-4xl font-black text-indigo-900">0%</span>
                        <div class="mt-3 flex flex-col gap-1">
                            <span id="stats-words-count" class="text-xs text-slate-500 font-semibold">0 / 789,634 words</span>
                            <span id="stats-chapters-count" class="text-xs text-slate-500 font-semibold">0 / 0 chapters</span>
                        </div>
                    </div>
                </div>
                <div class="w-full lg:w-7/12 text-center lg:text-left">
                    <h2 class="text-3xl font-black text-slate-900 tracking-tight mb-2">Bible Completion</h2>
                    <p class="text-base text-slate-500 mb-8 max-w-md mx-auto lg:mx-0 leading-relaxed">Your reading progress across all categories of the Bible.</p>
                    <div id="legend-grid" class="grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-3 text-left"></div>
                </div>
            </div>
            <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-6 px-2">Category Breakdown</h3>
            <div id="category-stats-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>

            <div class="mt-12">
                <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-6 px-2">Reading Activity</h3>
                <div class="bg-white rounded-[2.5rem] p-8 shadow-xl shadow-indigo-100/40 border border-indigo-50">
                    <!-- Streak Status Banner -->
                    <div id="streak-status-banner" class="mb-6 hidden">
                        <!-- Dynamically rendered based on streak status -->
                    </div>

                    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                        <div class="text-center lg:text-left">
                            <div class="inline-flex flex-col items-center gap-2 bg-gradient-to-r from-indigo-50 to-indigo-100/50 px-6 py-4 rounded-2xl border border-indigo-100 w-full relative">
                                <span id="streak-emoji" class="text-3xl">üî•</span>
                                <div class="text-center">
                                    <div class="text-xs font-bold text-slate-500 uppercase tracking-wide">Current Streak</div>
                                    <div id="current-streak" class="text-2xl font-black text-indigo-900">0 days</div>
                                    <div id="streak-milestone-progress" class="text-[10px] text-slate-400 mt-1"></div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center lg:text-left">
                            <div class="inline-flex flex-col items-center gap-2 bg-gradient-to-r from-amber-50 to-amber-100/50 px-6 py-4 rounded-2xl border border-amber-100 w-full">
                                <span class="text-3xl">‚≠ê</span>
                                <div class="text-center">
                                    <div class="text-xs font-bold text-slate-500 uppercase tracking-wide">Longest Streak</div>
                                    <div id="longest-streak" class="text-2xl font-black text-amber-900">0 days</div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center lg:text-left">
                            <div class="inline-flex flex-col items-center gap-2 bg-gradient-to-r from-emerald-50 to-emerald-100/50 px-6 py-4 rounded-2xl border border-emerald-100 w-full">
                                <span class="text-3xl">üìÖ</span>
                                <div class="text-center">
                                    <div class="text-xs font-bold text-slate-500 uppercase tracking-wide">Total Days</div>
                                    <div id="total-reading-days" class="text-2xl font-black text-emerald-900">0</div>
                                    <div id="avg-chapters-day" class="text-[10px] text-slate-400 mt-1"></div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center lg:text-left">
                            <div class="inline-flex flex-col items-center gap-2 bg-gradient-to-r from-rose-50 to-rose-100/50 px-6 py-4 rounded-2xl border border-rose-100 w-full">
                                <span class="text-3xl">üìä</span>
                                <div class="text-center">
                                    <div class="text-xs font-bold text-slate-500 uppercase tracking-wide">Best Day</div>
                                    <div id="best-day" class="text-2xl font-black text-rose-900">0 ch</div>
                                    <div id="year-chapters" class="text-[10px] text-slate-400 mt-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Time Remaining Card -->
                    <div class="mb-6">
                        <div class="bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-2xl p-6 text-center">
                            <div class="text-xs font-bold text-slate-500 uppercase tracking-wide mb-2">Reading Time to Completion</div>
                            <div id="time-remaining-stat" class="text-2xl font-black text-purple-900">Calculating...</div>
                        </div>
                    </div>

                    <!-- Guilt-trip Comparison Card -->
                    <div id="reading-comparison" class="mb-6">
                        <!-- Dynamically rendered comparison message -->
                    </div>
                    <div class="overflow-x-auto">
                        <div id="heatmap-container" class="min-w-[600px]"></div>
                    </div>
                    <p class="text-xs text-slate-400 mt-4 text-center">Your reading activity over time. Each square represents a day of Bible reading.</p>
                </div>
            </div>
        </div>

        <div id="view-tools" class="hidden animate-in">
            <div class="bg-white rounded-[2.5rem] p-8 shadow-xl shadow-indigo-100/40 border border-indigo-50 mb-8">
                <h2 class="text-3xl font-black text-slate-900 tracking-tight mb-8">Tools & Resources</h2>

                <div class="mb-10">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-6">Games & Activities</h3>
                    <a href="bible-books-game.html" class="block group">
                        <div class="bg-gradient-to-br from-purple-50 to-indigo-50 p-8 rounded-3xl border-2 border-purple-200 hover:border-purple-400 transition-all hover:shadow-lg">
                            <div class="flex items-start gap-4">
                                <div class="flex-shrink-0 w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform">
                                    <span class="text-3xl">üìñ</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="text-xl font-black text-purple-900 mb-2 group-hover:text-purple-700 transition-colors">Bible Books Memory Game</h4>
                                    <p class="text-slate-700 leading-relaxed mb-3">How many of the 66 books can you name in 5 minutes?</p>
                                    <div class="flex items-center gap-2 text-purple-700 font-bold text-sm group-hover:translate-x-2 transition-transform">
                                        <span>Play Now</span>
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>

                    <div onclick="window.showMemorizedVerses()" class="block group mt-4 cursor-pointer">
                        <div class="bg-gradient-to-br from-amber-50 to-yellow-50 p-8 rounded-3xl border-2 border-amber-200 hover:border-amber-400 transition-all hover:shadow-lg">
                            <div class="flex items-start gap-4">
                                <div class="flex-shrink-0 w-14 h-14 bg-gradient-to-br from-amber-500 to-yellow-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform">
                                    <span class="text-3xl">‚≠ê</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="text-xl font-black text-amber-900 mb-2 group-hover:text-amber-700 transition-colors">My Memorized Verses</h4>
                                    <p class="text-slate-700 leading-relaxed mb-3">View and manage verses you've marked for memorization. Add verses directly from the Bible reader.</p>
                                    <div class="flex items-center gap-2 text-amber-700 font-bold text-sm group-hover:translate-x-2 transition-transform">
                                        <span>View Verses</span>
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <a href="memorize.html" class="block group mt-4">
                        <div class="bg-gradient-to-br from-emerald-50 to-teal-50 p-8 rounded-3xl border-2 border-emerald-200 hover:border-emerald-400 transition-all hover:shadow-lg relative overflow-hidden">
                            <div class="flex items-start gap-4">
                                <div class="flex-shrink-0 w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform">
                                    <span class="text-3xl">üí°</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="text-xl font-black text-emerald-900 mb-2 group-hover:text-emerald-700 transition-colors">Verse Memorization Helper</h4>
                                    <p class="text-slate-700 leading-relaxed mb-3">Memorize Scripture with first-letter hints. Choose popular verses or add your own.</p>
                                    <div class="flex items-center gap-2 text-emerald-700 font-bold text-sm group-hover:translate-x-2 transition-transform">
                                        <span>Start Memorizing</span>
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

                <div class="mb-10">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-6">Reading Plans</h3>
                    <div class="block group cursor-pointer" onclick="window.setTab('PLAN'); setTimeout(() => { document.getElementById('plan-selector').value = 'HORNER'; window.changePlan(); }, 100)">
                        <div class="bg-gradient-to-br from-rose-50 to-pink-50 p-8 rounded-3xl border-2 border-rose-200 hover:border-rose-400 transition-all hover:shadow-lg relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-32 h-32 bg-rose-200/20 rounded-full blur-3xl -mr-10 -mt-10"></div>
                            <div class="flex items-start gap-4 relative z-10">
                                <div class="flex-shrink-0 w-14 h-14 bg-gradient-to-br from-rose-500 to-pink-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg shadow-rose-200">
                                    <span class="text-3xl">üìö</span>
                                </div>
                                <div class="flex-1">
                                    <h4 class="text-xl font-black text-rose-900 mb-2 group-hover:text-rose-700 transition-colors">Professor Horner's Bible Reading System</h4>
                                    <p class="text-slate-700 leading-relaxed mb-4">Read 10 chapters daily from different Bible sections. Each list rotates through different parts, creating fresh combinations daily.</p>
                                    <div class="bg-white/60 backdrop-blur-sm p-4 rounded-xl border border-rose-100 mb-3">
                                        <ul class="text-sm text-slate-600 space-y-1 list-disc list-inside">
                                            <li>10 rotating lists from different Bible sections</li>
                                            <li>Track daily list completion</li>
                                            <li>See <a href="horner.html" class="text-rose-700 font-semibold hover:underline">analytics page</a> for plan details and reading estimates</li>
                                        </ul>
                                    </div>
                                    <div class="flex items-center gap-2 text-rose-700 font-bold text-sm group-hover:translate-x-2 transition-transform">
                                        <span>Start Horner Plan</span>
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-10">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">External Resources</h3>

                    <!-- Collapsible Warning Flap -->
                    <div class="bg-amber-50 border-2 border-amber-200 rounded-2xl overflow-hidden">
                        <button onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('.toggle-icon').classList.toggle('rotate-180');" class="w-full p-5 flex items-center justify-between hover:bg-amber-100 transition-all cursor-pointer group" aria-label="Show external resources">
                            <div class="flex items-center gap-3">
                                <div class="flex-shrink-0 w-10 h-10 bg-amber-200 rounded-xl flex items-center justify-center">
                                    <svg class="w-5 h-5 text-amber-700" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <div class="text-left">
                                    <h4 class="font-bold text-amber-900 text-sm">Bible Study Resources</h4>
                                    <p class="text-xs text-amber-700 mt-0.5">Click to view helpful external websites</p>
                                </div>
                            </div>
                            <svg class="toggle-icon w-6 h-6 text-amber-600 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>

                        <div class="hidden">
                            <!-- Warning Message -->
                            <div class="px-5 pb-4">
                                <div class="bg-amber-100 border border-amber-300 rounded-xl p-4 mb-4">
                                    <p class="text-xs text-amber-800 leading-relaxed">
                                        <span class="font-bold block mb-1">‚ö†Ô∏è External Resources Disclaimer</span>
                                        The following websites are <strong>not affiliated</strong> with BibleProgress.com. These are third-party resources that may be helpful for Bible study. BibleProgress does not endorse or take responsibility for the content on these sites.
                                    </p>
                                </div>

                                <!-- External Links Grid -->
                                <div class="grid sm:grid-cols-2 gap-4">
                                    <a href="https://study.bible" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-white rounded-2xl border border-slate-200 hover:border-emerald-200 hover:bg-emerald-50/50 transition-all group">
                                        <div class="flex-shrink-0 w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center">
                                            <svg class="w-5 h-5 text-emerald-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-slate-900 mb-1 group-hover:text-emerald-900">Study.Bible</h4>
                                            <p class="text-xs text-slate-600">Interactive Bible study tools</p>
                                        </div>
                                        <svg class="w-5 h-5 text-slate-400 group-hover:text-emerald-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                        </svg>
                                    </a>

                                    <a href="https://biblereadingplangenerator.com/" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-white rounded-2xl border border-slate-200 hover:border-sky-200 hover:bg-sky-50/50 transition-all group">
                                        <div class="flex-shrink-0 w-10 h-10 bg-sky-100 rounded-xl flex items-center justify-center">
                                            <svg class="w-5 h-5 text-sky-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-slate-900 mb-1 group-hover:text-sky-900">Reading Plan Generator</h4>
                                            <p class="text-xs text-slate-600">Create custom reading plans</p>
                                        </div>
                                        <svg class="w-5 h-5 text-slate-400 group-hover:text-sky-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                        </svg>
                                    </a>

                                    <a href="https://benbornagain.faith/" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-white rounded-2xl border border-slate-200 hover:border-amber-200 hover:bg-amber-50/50 transition-all group">
                                        <div class="flex-shrink-0 w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center">
                                            <svg class="w-5 h-5 text-amber-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-slate-900 mb-1 group-hover:text-amber-900">Ben Born Again</h4>
                                            <p class="text-xs text-slate-600">Faith resources and insights</p>
                                        </div>
                                        <svg class="w-5 h-5 text-slate-400 group-hover:text-amber-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                        </svg>
                                    </a>

                                    <a href="https://www.abarim-publications.com/index.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-white rounded-2xl border border-slate-200 hover:border-rose-200 hover:bg-rose-50/50 transition-all group">
                                        <div class="flex-shrink-0 w-10 h-10 bg-rose-100 rounded-xl flex items-center justify-center">
                                            <svg class="w-5 h-5 text-rose-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-slate-900 mb-1 group-hover:text-rose-900">Abarim Publications</h4>
                                            <p class="text-xs text-slate-600">Biblical name meanings & analysis</p>
                                        </div>
                                        <svg class="w-5 h-5 text-slate-400 group-hover:text-rose-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                        </svg>
                                    </a>

                                    <a href="https://www.blueletterbible.org/" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-white rounded-2xl border border-slate-200 hover:border-blue-200 hover:bg-blue-50/50 transition-all group">
                                        <div class="flex-shrink-0 w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
                                            <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-slate-900 mb-1 group-hover:text-blue-900">Blue Letter Bible</h4>
                                            <p class="text-xs text-slate-600">Comprehensive Bible study tools</p>
                                        </div>
                                        <svg class="w-5 h-5 text-slate-400 group-hover:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                        </svg>
                                    </a>

                                    <a href="https://home.snu.edu/~hculbert/study.htm" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-white rounded-2xl border border-slate-200 hover:border-purple-200 hover:bg-purple-50/50 transition-all group">
                                        <div class="flex-shrink-0 w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center">
                                            <svg class="w-5 h-5 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                            </svg>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-slate-900 mb-1 group-hover:text-purple-900">SNU Bible Study Guide</h4>
                                            <p class="text-xs text-slate-600">Study guides and resources</p>
                                        </div>
                                        <svg class="w-5 h-5 text-slate-400 group-hover:text-purple-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-about" class="hidden animate-in">
             <div class="bg-white rounded-[2.5rem] p-8 shadow-xl shadow-indigo-100/40 border border-indigo-50 mb-8">
                <h2 class="text-3xl font-black text-slate-900 tracking-tight mb-8">About</h2>

                <div class="mb-8">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">What Makes This Different?</h3>
                    <div class="bg-indigo-50 p-6 rounded-2xl border border-indigo-100">
                        <h4 class="text-lg font-bold text-slate-900 mb-2">Word-Weighted Tracking</h4>
                        <p class="text-slate-700 mb-4">Progress is tracked by word count, not just chapters. Psalm 117 has 33 words. Psalm 119 has 2,423 words.</p>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">Who Made This?</h3>
                    <div class="bg-indigo-50 p-6 rounded-2xl border border-indigo-100">
                        <p id="person" class="text-lg font-bold text-slate-900 mb-2 cursor-default">Made by a friend!</p>
                        <p class="text-sm text-slate-700 mb-4">A simple tracker that reflects actual reading effort.</p>

                        <script>
                          const person = document.getElementById("person");
                          person.addEventListener("mouseover", () => {
                            const tag = document.createElement("span");
                            tag.textContent = " (Shane)";
                            tag.id = "hoverTag";
                            tag.className = "text-indigo-600 ml-1 text-base font-bold";
                            person.appendChild(tag);
                          });
                          person.addEventListener("mouseout", () => {
                            const tag = document.getElementById("hoverTag");
                            if (tag) tag.remove();
                          });
                        </script>

                        <div class="pt-4 border-t border-indigo-200/50 flex flex-col items-center">
                            <a href="https://www.buymeacoffee.com/bibleprogress" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-6 py-2 bg-[#FFDD00] text-black rounded-full font-bold text-sm hover:shadow-lg transition-shadow">
                                <svg class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z" />
                                    <path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd" />
                                </svg>
                                Buy me a coffee
                            </a>
                        </div>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">How to Use</h3>
                    <div class="bg-slate-50 p-6 rounded-2xl border border-slate-200">
                        <ul class="space-y-3 text-sm text-slate-700">
                            <li class="flex items-start gap-2">
                                <span class="text-indigo-600 font-bold">‚Ä¢</span>
                                <span>Click any book to expand and view chapters</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-indigo-600 font-bold">‚Ä¢</span>
                                <span>Check off chapters as you read them</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-indigo-600 font-bold">‚Ä¢</span>
                                <span>Click chapter names to read on Blue Letter Bible</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-indigo-600 font-bold">‚Ä¢</span>
                                <span>Create profiles to track different reading plans</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-indigo-600 font-bold">‚Ä¢</span>
                                <span>Sign in to sync progress across devices</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">Reading Plans</h3>
                    <div class="bg-slate-50 p-6 rounded-2xl border border-slate-200 space-y-4">
                        <div>
                            <div class="font-bold text-slate-900 mb-1">Sequential</div>
                            <p class="text-sm text-slate-600">Read from Genesis to Revelation in order.</p>
                        </div>

                        <div>
                            <div class="font-bold text-slate-900 mb-1">One Year (OT+NT Daily)</div>
                            <p class="text-sm text-slate-600">3 OT chapters + 1 NT chapter daily. Finish in one year.</p>
                        </div>

                        <div>
                            <div class="font-bold text-slate-900 mb-1">M'Cheyne</div>
                            <p class="text-sm text-slate-600">4 chapters daily. NT and Psalms twice yearly, rest once.</p>
                        </div>

                        <div>
                            <div class="font-bold text-slate-900 mb-1">Horner System</div>
                            <p class="text-sm text-slate-600">10 chapters daily from 10 rotating lists. Designed for continuous reading.</p>
                        </div>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-6">Legal & Compliance</h3>
                    <div class="grid sm:grid-cols-2 gap-4">
                        <a href="/privacy.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-slate-50 rounded-2xl border border-slate-200 hover:border-indigo-200 hover:bg-indigo-50/50 transition-all group">
                            <div class="flex-shrink-0 w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-bold text-slate-900 mb-1 group-hover:text-indigo-900">Privacy Policy</h4>
                                <p class="text-xs text-slate-600">How we protect your data</p>
                            </div>
                            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </a>

                        <a href="/terms.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-slate-50 rounded-2xl border border-slate-200 hover:border-indigo-200 hover:bg-indigo-50/50 transition-all group">
                            <div class="flex-shrink-0 w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-emerald-600" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-bold text-slate-900 mb-1 group-hover:text-indigo-900">Terms of Service</h4>
                                <p class="text-xs text-slate-600">User agreement and terms</p>
                            </div>
                            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </a>

                        <a href="/accessibility.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-slate-50 rounded-2xl border border-slate-200 hover:border-indigo-200 hover:bg-indigo-50/50 transition-all group">
                            <div class="flex-shrink-0 w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/>
                                    <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-bold text-slate-900 mb-1 group-hover:text-indigo-900">Accessibility Statement</h4>
                                <p class="text-xs text-slate-600">Our commitment to accessibility</p>
                            </div>
                            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </a>

                        <!-- GitHub Link (Temporarily Removed) -->
                        <!--
                        <a href="https://github.com/sxejno/bible-progress" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-5 bg-slate-50 rounded-2xl border border-slate-200 hover:border-indigo-200 hover:bg-indigo-50/50 transition-all group">
                            <div class="flex-shrink-0 w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center">
                                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-bold text-slate-900 mb-1 group-hover:text-indigo-900">Open Source (MIT)</h4>
                                <p class="text-xs text-slate-600">View code on GitHub</p>
                            </div>
                            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </a>
                        -->
                    </div>

                    <div class="mt-6 p-6 bg-gradient-to-br from-indigo-50 to-purple-50/30 rounded-3xl border border-indigo-100">
                        <div class="flex items-start gap-3 mb-4">
                            <div class="flex-shrink-0 w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-bold text-slate-900 mb-2">Your Privacy Matters</h4>
                                <p class="text-sm text-slate-700 leading-relaxed mb-2">
                                    Bible Progress is designed with privacy in mind. Your reading progress is stored locally on your device by default. Cloud sync is completely optional.
                                </p>
                                <ul class="text-sm text-slate-600 space-y-1 list-disc list-inside">
                                    <li>No tracking without your consent</li>
                                    <li>Export your data anytime (JSON backup)</li>
                                    <li>GDPR & CCPA compliant</li>
                                    <li>Open source and transparent</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

             </div>
        </div>

        <div id="view-settings" class="hidden animate-in">
            <div class="bg-white rounded-[2.5rem] p-8 shadow-xl shadow-indigo-100/40 border border-indigo-50 mb-8">
                <h2 class="text-3xl font-black text-slate-900 tracking-tight mb-8">Settings</h2>

                <div class="mb-8 pb-8 border-b border-slate-100">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">Appearance</h3>
                    <div class="flex items-center justify-between p-4 rounded-xl bg-slate-50 border border-slate-200 mb-4">
                        <div>
                            <div class="font-bold text-slate-700 text-sm mb-1">Dark Mode</div>
                            <div class="text-xs text-slate-500">Reduce eye strain</div>
                        </div>
                        <button onclick="window.toggleDarkModeSetting()" id="dark-mode-toggle" class="relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 bg-slate-300" role="switch" aria-checked="false" aria-label="Toggle dark mode">
                            <span id="dark-mode-toggle-circle" class="inline-block h-6 w-6 transform rounded-full bg-white transition-transform translate-x-1 shadow-md"></span>
                        </button>
                    </div>

                    <div class="flex items-center justify-between p-4 rounded-xl bg-slate-50 border border-slate-200">
                        <div class="flex-1">
                            <div class="font-bold text-slate-700 text-sm mb-1">Default Tab on Load</div>
                            <div class="text-xs text-slate-500">Choose which tab opens when you load the app</div>
                        </div>
                        <select id="default-tab-selector" onchange="window.setDefaultTab(this.value)" class="bg-white border border-slate-300 rounded-lg text-sm font-bold text-slate-700 py-2 px-3 outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer" aria-label="Select default tab on load">
                            <option value="ALL">All Books</option>
                            <option value="OT">OT Books</option>
                            <option value="NT">NT Books</option>
                            <option value="PLAN">Daily Plan</option>
                            <option value="STATS">Stats</option>
                        </select>
                    </div>
                </div>

                <div class="mb-8 pb-8 border-b border-slate-100">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">Reading Plan</h3>

                    <div class="flex items-center justify-between p-4 rounded-xl bg-slate-50 border border-slate-200 mb-4">
                        <div>
                            <div class="font-bold text-slate-700 text-sm mb-1">Reading Time Estimates</div>
                            <div class="text-xs text-slate-500">Show time estimates in daily plan</div>
                        </div>
                        <button onclick="window.toggleReadingTime()" id="reading-time-toggle" class="relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 bg-slate-300" role="switch" aria-checked="false" aria-label="Toggle reading time estimates">
                            <span id="reading-time-toggle-circle" class="inline-block h-6 w-6 transform rounded-full bg-white transition-transform translate-x-1 shadow-md"></span>
                        </button>
                    </div>

                    <div id="wpm-setting-container" class="p-4 rounded-xl bg-slate-50 border border-slate-200" style="display: none;">
                        <div class="flex items-center justify-between mb-3">
                            <div>
                                <div class="font-bold text-slate-700 text-sm mb-1">Reading Speed (WPM)</div>
                                <div class="text-xs text-slate-500">Adjust words per minute</div>
                            </div>
                            <div class="flex items-center gap-2">
                                <input type="number" id="wpm-input" min="100" max="500" step="10" value="250"
                                    onchange="window.updateWPM(this.value)"
                                    class="w-20 px-3 py-2 rounded-lg border border-slate-300 text-center font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" aria-label="Words per minute reading speed">
                                <span class="text-xs font-bold text-slate-500 uppercase">WPM</span>
                            </div>
                        </div>
                        <div class="text-xs text-slate-500 leading-relaxed bg-blue-50 p-3 rounded-lg border border-blue-100">
                            <strong>Reference:</strong> Average reading speed is 200-250 WPM. Fast readers: 300+ WPM. Slow/careful reading: 100-150 WPM.
                        </div>
                    </div>
                </div>

                <div class="mb-8">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">Data Management</h3>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button onclick="window.backupData()" class="flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-slate-50 border border-slate-200 text-slate-600 font-bold hover:bg-slate-100 transition-colors text-sm uppercase tracking-wide" aria-label="Download backup of reading progress">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                            Download Backup
                        </button>
                        <label class="flex-1 cursor-pointer flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-slate-50 border border-slate-200 text-slate-600 font-bold hover:bg-slate-100 transition-colors text-sm uppercase tracking-wide" aria-label="Restore reading progress from file">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m-4-4v12"></path></svg>
                            Restore from File
                            <input type="file" id="restore-input-settings" class="hidden" accept=".json" onchange="window.restoreData(this)" aria-label="Select backup file to restore">
                        </label>
                    </div>
                    <p id="restore-msg-settings" class="text-center text-sm font-bold text-emerald-600 mt-4 hidden bg-emerald-50 py-2 rounded-lg"></p>
                    <p class="text-xs text-slate-500 mt-4 text-center leading-relaxed">
                        Backup and restore your reading progress.
                    </p>
                </div>

                <div id="advanced-settings-container" class="mb-8" style="display: none;">
                    <h3 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-4">Advanced: Cross-Profile Sync</h3>
                    <p class="text-xs text-slate-500 mb-4 leading-relaxed">
                        Configure one-way chapter syncing between profiles. When you mark a chapter as read in the <strong>source profile</strong>, it will automatically be marked as read in the <strong>target profile</strong> (but not vice versa).
                    </p>
                    <p class="text-xs text-slate-600 mb-4 leading-relaxed bg-blue-50 p-3 rounded-lg border border-blue-100">
                        <strong>Example:</strong> If you have a "Family" profile and a "Private" profile, you can set Family ‚Üí Private so that chapters read with the family also count toward your private progress.
                    </p>
                    <div id="profile-sync-rules" class="space-y-3"></div>
                    <button onclick="window.addProfileSyncRule()" class="mt-4 flex items-center gap-2 px-4 py-2 rounded-lg bg-indigo-50 border border-indigo-200 text-indigo-600 font-bold hover:bg-indigo-100 transition-colors text-sm" aria-label="Add profile sync rule">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                        Add Sync Rule
                    </button>
                </div>
            </div>
        </div>

        <div id="view-chapters" class="hidden animate-in">
            <div class="flex items-center justify-between mb-8">
                <button onclick="window.showBooks()" class="flex items-center text-indigo-600 font-bold text-sm hover:-translate-x-1 transition-transform bg-indigo-50 px-4 py-2 rounded-full" aria-label="Back to library">
                    <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                    Back to Library
                </button>
                <div id="book-label" class="bg-indigo-100 text-indigo-700 text-xs font-black px-4 py-2 rounded-full uppercase tracking-widest shadow-sm">Testament</div>
            </div>
            
            <div class="bg-white rounded-[2.5rem] p-6 sm:p-8 shadow-xl shadow-indigo-100/40 border border-indigo-50">
                <div class="mb-10 text-center">
                    <h2 id="active-book-title" class="text-4xl sm:text-5xl font-black text-slate-900 tracking-tighter mb-4">Genesis</h2>
                    <div class="flex flex-col sm:flex-row justify-center items-center gap-3 sm:gap-4">
                        <span id="book-chapters-read" class="text-xs font-black text-indigo-600 uppercase tracking-widest whitespace-nowrap">0/50 chapters</span>
                        <div class="w-full sm:flex-1 sm:max-w-xs bg-slate-100 h-3 rounded-full overflow-hidden">
                            <div id="book-inner-bar" class="bg-indigo-500 h-full progress-bar" style="width: 0%"></div>
                        </div>
                        <span id="book-time-left" class="text-xs font-black text-slate-500 uppercase tracking-widest whitespace-nowrap">‚è±Ô∏è ~0 min</span>
                    </div>
                </div>
                
                <div id="chapter-grid" class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 gap-3 sm:gap-4"></div>

                <div class="mt-12 pt-8 border-t border-slate-100 flex flex-col sm:flex-row justify-center gap-4">
                    <button onclick="window.toggleAllInBook(true)" class="text-xs font-black text-emerald-600 uppercase tracking-widest hover:bg-emerald-50 px-6 py-3 rounded-full transition-colors border border-transparent hover:border-emerald-100" aria-label="Mark all chapters in book as finished">Mark Book Finished</button>
                    <button onclick="window.toggleAllInBook(false)" class="text-xs font-black text-slate-400 uppercase tracking-widest hover:bg-slate-50 px-6 py-3 rounded-full transition-colors border border-transparent hover:border-slate-200" aria-label="Reset all chapters in book to unread">Reset Book</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="max-w-5xl mx-auto px-4 py-8 sm:px-6 mt-12 border-t border-slate-200">
        <div class="text-center">
            <div class="flex flex-wrap justify-center items-center gap-4 mb-4 text-sm text-slate-600">
                <a href="/privacy.html" class="hover:text-indigo-600 font-medium transition-colors" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
                <span class="text-slate-300">‚Ä¢</span>
                <a href="/terms.html" class="hover:text-indigo-600 font-medium transition-colors" target="_blank" rel="noopener noreferrer">Terms of Service</a>
                <span class="text-slate-300">‚Ä¢</span>
                <a href="/accessibility.html" class="hover:text-indigo-600 font-medium transition-colors" target="_blank" rel="noopener noreferrer">Accessibility</a>
                <!-- GitHub Link (Temporarily Removed) -->
                <!--
                <span class="text-slate-300">‚Ä¢</span>
                <a href="https://github.com/sxejno/bible-progress" class="hover:text-indigo-600 font-medium transition-colors" target="_blank" rel="noopener noreferrer">GitHub</a>
                -->
            </div>
            <p class="text-xs text-slate-500">
                &copy; 2026 Bible Progress. Licensed under the <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer" class="hover:text-indigo-600 transition-colors">MIT License</a>.
            </p>
            <p class="text-xs text-slate-400 mt-2">
                King James Version (KJV) Bible text is in the public domain.
            </p>
        </div>
    </footer>

    <!-- Cookie Consent Banner (Temporarily Removed) -->
    <!--
    <div id="cookie-consent-banner" class="hidden fixed bottom-0 left-0 right-0 z-50 glass border-t border-slate-200 shadow-2xl">
        <div class="max-w-5xl mx-auto px-4 py-6 sm:px-6">
            <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
                <div class="flex-1">
                    <h3 class="text-sm font-bold text-slate-900 mb-2">Cookie Notice</h3>
                    <p class="text-sm text-slate-700 leading-relaxed">
                        We use essential cookies for authentication and analytics cookies to improve your experience. By using Bible Progress, you consent to our use of cookies.
                        <a href="/privacy.html" class="text-indigo-600 hover:underline font-medium" target="_blank" rel="noopener noreferrer">Learn more</a>
                    </p>
                </div>
                <div class="flex gap-3 self-end sm:self-auto">
                    <button onclick="window.dismissCookieConsent()" class="px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition-colors shadow-md" aria-label="Accept cookies">
                        Accept
                    </button>
                </div>
            </div>
        </div>
    </div>
    -->

    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Bible Progress JavaScript Modules -->
    <!-- Load order is critical for dependencies -->
    <script src="js/data.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/progress.js"></script>
    <script src="js/profiles.js"></script>
    <script src="js/categories.js"></script>
    <script src="js/ui-core.js"></script>
    <script src="js/ui-render.js"></script>
    <script src="js/streaks.js"></script>
    <script src="js/bible-reader.js"></script>
    <script src="js/verse-of-day.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/easter-eggs.js"></script>
    <script type="module" src="js/firebase-init.js"></script>
</body>

</html>


